<div fxFlexFill fxLayout="column" fxLayoutAlign="start">
  <div>
    <num-header>{{ 'FEASIBILITY.SEARCH.HEADER' | translate }}</num-header>
    <num-header-description>
      {{ 'FEASIBILITY.SEARCH.HEADER_INFO' | translate }}
    </num-header-description>
  </div>
  <div
    class="search-container width-100"
    fxLayout="row"
    fxLayoutAlign="start center"
    fxLayoutGap="8px"
  >
    <mat-form-field style="height: 200px; width: 100%">
      <textarea
        matInput
        class="input-field"
        name="searchText"
        [(ngModel)]="bulkSearchTermInput"
      ></textarea>
    </mat-form-field>

    <num-button (click)="submitComment(bulkSearchTermInput)"></num-button>

    <div class="margin-left-auto">
      <num-toggle-search></num-toggle-search>
    </div>
  </div>

  <div class="filter-container">
    <num-search-filter
      *ngFor="let searchFilter of searchFilters$ | async"
      [filter]="searchFilter"
      (selectedFilterChanged)="setElasticSearchFilter($event)"
    ></num-search-filter>
    <num-button [isDisabled]="resetFilterEnabled$ | async" type="blue" (click)="resetFilter()">
      {{ 'FEASIBILITY.SEARCH.BUTTON.RESET' | translate }}
    </num-button>
  </div>
  <num-table
    *ngIf="searchResultsFound"
    style="flex: 1"
    (selectedRow)="setSelectedRowItem($event)"
    [tableData]="adaptedData"
  ></num-table>
  <div *ngIf="!searchResultsFound" class="no-results-box">
    <num-placeholder-box class="no-results-text"
      >{{ 'FEASIBILITY.SEARCH.EMPTY' | translate }} "<strong>{{ searchText$ | async }}</strong
      >"</num-placeholder-box
    >
  </div>
  <div>
    <num-bulk-search-action-bar></num-bulk-search-action-bar>
  </div>
</div>
