<div class="stepper-container">
  <mat-stepper
    (selectionChange)="navigateToDataQueryCohortDefinition()"
    labelPosition="bottom"
    style="width: 90%"
    [selectedIndex]="1"
  >
    <mat-step role="tab">
      <ng-template matStepLabel>
        <num-header>
          {{ 'DATAQUERY.COHORT.HEADER' | translate }}
        </num-header>
      </ng-template>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>
        <num-header>
          {{ 'DATAQUERY.DATASELECTION.HEADER' | translate }}
        </num-header>
      </ng-template>
    </mat-step>
  </mat-stepper>
</div>
<div class="container pr4">
  <div style="margin-top: 5px">
    <num-header-description>
      {{ 'DATASELECTION.HEADER_INFO' | translate }}
    </num-header-description>
  </div>
  <div *ngIf="(isDataSelectionExistent$ | async) === false" class="empty-data-selection-box">
    <num-placeholder-box>
      {{ 'DATAQUERY.DATASELECTION.EMPTY' | translate }}
    </num-placeholder-box>
  </div>
  <num-display-profiles [isEditable]="false"></num-display-profiles>
  <num-action-bar class="bottom">
    <num-button class="margin-right-10" (click)="createNewDataSelection()" type="green">
      {{ 'DATAQUERY.DATASELECTION.BUTTON.NEW_DATASELECTION' | translate }}
    </num-button>
    <num-button
      type="green"
      (click)="editDataSelection()"
      class="margin-right-10"
      [isDisabled]="(isDataSelectionExistent$ | async) === false"
    >
      {{ 'DATAQUERY.DATASELECTION.BUTTON.EDIT' | translate }}
    </num-button>
    <div>
      <input
        type="file"
        class="file-input"
        (change)="onFileSelected($event)"
        #fileUpload
        style="display: none"
      />
      <num-button type="green" class="margin-right-10" (click)="fileUpload.click()">
        {{ 'DATAQUERY.DATASELECTION.BUTTON.UPLOAD' | translate }}
      </num-button>
    </div>
    <num-button
      class="margin-right-10"
      [isDisabled]="
        (isDataSelectionExistent$ | async) === false || (isCohortExistent$ | async) === false
      "
      type="green"
      (click)="downloadCRDTL()"
    >
      {{ 'DATAQUERY.DATASELECTION.BUTTON.DOWNLOAD' | translate }}
    </num-button>
    <num-button
      [icon]="'arrow-up'"
      class="margin-right-10"
      (click)="navigateToDataQueryCohortDefinition()"
      type="green"
    >
      {{ 'DATAQUERY.DATASELECTION.BUTTON.JUMP_TO_COHORT_SELECTION' | translate }}
    </num-button>
  </num-action-bar>
</div>
