<div fxLayout="column" fxLayoutAlign="space-between start" class="width-100">
  <num-profile-header class="width-100" [profile]="profile"> </num-profile-header>
  <num-filter-tabs
    class="width-100"
    *ngIf="templates.length > 0"
    [content]="templates"
  ></num-filter-tabs>

  <ng-template #fields>
    <num-edit-fields
      style="width: 100%"
      [profile]="profile"
      (updatedProfile)="updateProfile($event)"
    ></num-edit-fields>
  </ng-template>

  <ng-template #filter>
    <div class="profile-tab-group-container">
      <mat-tab-group
        animationDuration="0ms"
        class="inenr-tab-group"
        disableRipple="true"
        mat-stretch-tabs="false"
      >
        <mat-tab
          *ngFor="let profileTokenFilter of profileTokenFilters"
          label="{{ profileTokenFilter.getName() }}"
        >
          <num-shared-concept-filter-copy
            [conceptFilterId]="profileTokenFilter.getId()"
            [valueSetUrl]="profileTokenFilter.getValueSetUrls()"
            [preSelectedConcepts]="profileTokenFilter.getSelectedTokens()"
            (changedSelectedConcepts)="updateSelectedConcepts($event)"
          >
          </num-shared-concept-filter-copy>
        </mat-tab>
        <mat-tab
          *ngFor="let timeRestriction of profileTimeRestriction"
          label="{{ timeRestriction.getName() }}"
        >
          <num-edit-time-restriction
            [timeRestriction]="timeRestriction.getTimeRestriction()"
            (timeRestrictionChanged)="updateTimeRestriction($event, timeRestriction)"
          ></num-edit-time-restriction>
        </mat-tab>
      </mat-tab-group>
    </div>
  </ng-template>
</div>
