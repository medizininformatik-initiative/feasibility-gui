<div fxLayout="column" class="full">
  <num-profile-header class="width-100" [profile]="profile"> </num-profile-header>
  <num-filter-tabs
    class="width-100 height"
    *ngIf="templates.length > 0"
    [content]="templates"
  ></num-filter-tabs>

  <ng-template #fields>
    <num-edit-fields
      class="full"
      [fieldTree]="profile.getProfileFields().getFieldTree()"
      [selectedBasicFields]="profile.getProfileFields().getSelectedBasicFields()"
      (updatedSelectedBasicFields)="updateSelectedFields($event)"
    ></num-edit-fields>
  </ng-template>

  <ng-template #filter>
    <num-profile-filter
      [profileFilter]="profile.getFilters()"
      (profileFiltersChanged)="updateProfileFilter($event)"
    ></num-profile-filter>
  </ng-template>

  <ng-template #reference>
    <num-profile-reference
      [referenceFields]="profile.getProfileFields().getReferenceFields()"
      [selectedReferenceFields]="profile.getProfileFields().getSelectedReferenceFields()"
      [profileId]="profile.getId()"
      (updatedSelectedReferenceFields)="updateSelectedReferenceFields($event)"
    ></num-profile-reference>
  </ng-template>
</div>
